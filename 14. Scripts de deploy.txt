#!/bin/bash

# Build the project
echo "Building Mocha App Builder..."
npm run build

# Check if build succeeded
if [ $? -ne 0 ]; then
  echo "Build failed!"
  exit 1
fi

# Sync to S3 (if deploying to AWS)
echo "Syncing to S3..."
aws s3 sync dist/ s3://your-bucket-name --delete

# Invalidate CloudFront cache
echo "Invalidating CloudFront cache..."
aws cloudfront create-invalidation \
  --distribution-id YOUR_DISTRIBUTION_ID \
  --paths "/*"

echo "Deployment complete!"